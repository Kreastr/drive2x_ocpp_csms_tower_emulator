services:
   ocpp:
      image: ocpp:latest
      ports: 
        - 9000:9000
        - 8000:8000
      restart: unless-stopped
      depends_on:
        - redis
      networks:
        - ocpp_net
   redis:
      image: redis:7.4-alpine
      restart: always
      command: redis-server --save 20 1 --loglevel warning
      volumes:
        - redisdb:/data
      networks:
        - ocpp_net
   vcp:
      image: vcp:latest
      ports: 
        - 7500:7500
      restart: unless-stopped
      depends_on:
        - redis
        - ocpp
      networks:
        - ocpp_net
   proxy:
      image: proxy:latest
      ports:
        - 16000:16000
      restart: unless-stopped
      depends_on:
        - redis
        - ocpp
      networks:
        - ocpp_net
volumes:
  redisdb:
    driver: local
networks:
  ocpp_net:
    driver: bridge
